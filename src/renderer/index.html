<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>ä¼‘æ¯æé†’</title>
  <style>
    body {
      margin: 0;
      background: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      user-select: none;
      cursor: pointer;
      overflow: hidden;
    }
    .emoji-container {
      position: absolute;
      font-size: 15rem;
      will-change: transform;
      transition: top 0.3s, left 0.3s;
    }
    .tip {
      color: #fff;
      font-size: 3vw; /* å¢å¤§å­—ä½“ */
      margin-top: 2vw;
      text-align: center;
      position: relative;
      z-index: 10;
      text-shadow: 0 0 10px rgba(0,0,0,0.8), 0 0 20px rgba(0,0,0,0.8); /* æ·»åŠ æ–‡å­—é˜´å½± */
      font-weight: bold; /* åŠ ç²— */
      animation: pulse 2s infinite; /* æ·»åŠ è„‰åŠ¨åŠ¨ç”» */
      background-color: rgba(0, 0, 0, 0.5); /* åŠé€æ˜èƒŒæ™¯ */
      padding: 15px 25px; /* æ·»åŠ å†…è¾¹è· */
      border-radius: 10px; /* åœ†è§’ */
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body style="pointer-events: auto;">
  <div style="pointer-events: auto;">
    <div class="tip" style="pointer-events: auto;">ä¼‘æ¯ä¸€ä¸‹å§ï¼<br>ç‚¹å‡»ä»»æ„å¤„å…³é—­</div>
  </div>
  <script src="./renderer.js"></script>
  <script>
    const emojis = ['ğŸ§˜', 'ğŸ˜Š', 'ğŸŒŸ', 'ğŸˆ', 'ğŸ', 'ğŸŒ¿', 'ğŸµ', 'ğŸ’¤', 'ğŸŒ™', 'ğŸŒˆ', 'ğŸ¦‹', 'ğŸ¬', 'ğŸŒº', 'ğŸŒ´', 'ğŸ–ï¸', 'ğŸŒŠ', 'ğŸï¸', 'ğŸƒ'];
    const container = document.body;
    let emojiCount = 0;
    const maxEmojis = 40;
    const emojiSize = 240; // å¤§çº¦15remçš„åƒç´ å€¼
    const emojiElements = [];
    let isGenerating = false; // æ§åˆ¶ç”Ÿæˆè¿‡ç¨‹
    
    // æ¯æ¬¡ç”Ÿæˆå‡ ä¸ªemoji
    function createEmojiBatch() {
      if (isGenerating) return; // å¦‚æœæ­£åœ¨ç”Ÿæˆï¼Œåˆ™è·³è¿‡
      isGenerating = true;
      
      const batchSize = Math.floor(Math.random() * 3) + 3; // æ¯æ¬¡ç”Ÿæˆ3-5ä¸ª
      let created = 0;
      
      function createOneEmoji() {
        if (created >= batchSize || emojiCount >= maxEmojis) {
          isGenerating = false;
          // å¦‚æœè¿˜æ²¡æœ‰ç”Ÿæˆå®Œæ‰€æœ‰emojiï¼Œè®¾ç½®ä¸€ä¸ªå»¶è¿Ÿåç»§ç»­ç”Ÿæˆ
          if (emojiCount < maxEmojis) {
            setTimeout(createEmojiBatch, 2000); // æ¯2ç§’ç”Ÿæˆä¸€æ‰¹
          }
          return;
        }
        
        const emoji = document.createElement('div');
        emoji.className = 'emoji-container';
        const randomEmojiIndex = Math.floor(Math.random() * emojis.length);
        const emojiText = emojis[randomEmojiIndex];
        emoji.textContent = emojiText;
        
        // ä»å±å¹•é¡¶éƒ¨å¼€å§‹
        const x = Math.random() * (window.innerWidth - emojiSize);
        const y = -emojiSize; // è®¾ç½®åœ¨å±å¹•ä¸Šæ–¹
        
        // éšæœºæ°´å¹³é€Ÿåº¦ï¼Œå‚ç›´é€Ÿåº¦å‘ä¸‹
        const speedX = (Math.random() - 0.5) * 8;
        const speedY = Math.random() * 5 + 5; // ç¡®ä¿å‘ä¸‹çš„é€Ÿåº¦
        
        emoji.style.left = x + 'px';
        emoji.style.top = y + 'px';
        
        // å­˜å‚¨emojiçš„å±æ€§
        const emojiData = {
          element: emoji,
          x: x,
          y: y,
          speedX: speedX,
          speedY: speedY,
          width: emojiSize,
          height: emojiSize,
          type: emojiText, // å­˜å‚¨emojiç±»å‹
          toRemove: false // æ ‡è®°æ˜¯å¦éœ€è¦ç§»é™¤
        };
        
        emojiElements.push(emojiData);
        container.appendChild(emoji);
        emojiCount++;
        created++;
        
        // é€’å½’åˆ›å»ºä¸‹ä¸€ä¸ªï¼Œä½†æ·»åŠ ä¸€ç‚¹å»¶è¿Ÿï¼Œä½¿å®ƒä»¬ä¸ä¼šåŒæ—¶å‡ºç°
        setTimeout(createOneEmoji, 200); // æ¯200æ¯«ç§’åˆ›å»ºä¸€ä¸ª
      }
      
      // å¼€å§‹åˆ›å»ºç¬¬ä¸€ä¸ª
      createOneEmoji();
    }
    
    // æ£€æµ‹ç¢°æ’
    function checkCollision(emoji1, emoji2) {
      return (
        emoji1.x < emoji2.x + emoji2.width &&
        emoji1.x + emoji1.width > emoji2.x &&
        emoji1.y < emoji2.y + emoji2.height &&
        emoji1.y + emoji1.height > emoji2.y
      );
    }
    
    // æ›´æ–°emojiä½ç½®
    function updateEmojis() {
      // æ›´æ–°ä½ç½®
      for(let i = 0; i < emojiElements.length; i++) {
        const emoji = emojiElements[i];
        
        // æ›´æ–°ä½ç½®
        emoji.x += emoji.speedX;
        emoji.y += emoji.speedY;
        
        // è¾¹ç•Œæ£€æµ‹
        if(emoji.x <= 0 || emoji.x + emoji.width >= window.innerWidth) {
          emoji.speedX = -emoji.speedX * 0.8; // æ·»åŠ ä¸€äº›èƒ½é‡æŸå¤±
          emoji.x = Math.max(0, Math.min(emoji.x, window.innerWidth - emoji.width));
        }
        
        if(emoji.y <= 0) {
          emoji.speedY = Math.abs(emoji.speedY) * 0.8; // ç¡®ä¿å‘ä¸‹ç§»åŠ¨
          emoji.y = 0;
        } else if(emoji.y + emoji.height >= window.innerHeight) {
          emoji.speedY = -emoji.speedY * 0.8; // åå¼¹ï¼Œæ·»åŠ ä¸€äº›èƒ½é‡æŸå¤±
          emoji.y = window.innerHeight - emoji.height;
        }
        
        // æ·»åŠ é‡åŠ›æ•ˆæœ
        emoji.speedY += 0.2;
      }
      
      // æ£€æµ‹emojiä¹‹é—´çš„ç¢°æ’
      for(let i = 0; i < emojiElements.length; i++) {
        for(let j = i + 1; j < emojiElements.length; j++) {
          const emoji1 = emojiElements[i];
          const emoji2 = emojiElements[j];
          
          if(checkCollision(emoji1, emoji2)) {
            // æ£€æŸ¥æ˜¯å¦æ˜¯ç›¸åŒç±»å‹çš„emoji
            if(emoji1.type === emoji2.type && !emoji1.toRemove && !emoji2.toRemove) {
              // ç›¸åŒç±»å‹çš„emojiç¢°æ’ï¼Œæ ‡è®°ä¸ºç§»é™¤
              emoji1.toRemove = true;
              emoji2.toRemove = true;
              
              // åˆ›å»ºæ¶ˆå¤±åŠ¨ç”»æ•ˆæœ - å»¶é•¿åŠ¨ç”»æ—¶é—´åˆ°1.5ç§’
              emoji1.element.style.transition = 'transform 1.5s, opacity 1.5s';
              emoji2.element.style.transition = 'transform 1.5s, opacity 1.5s';
              
              emoji1.element.style.transform = 'scale(0) rotate(360deg)';
              emoji2.element.style.transform = 'scale(0) rotate(-360deg)';
              
              emoji1.element.style.opacity = '0';
              emoji2.element.style.opacity = '0';
              
              continue; // è·³è¿‡åç»­çš„ç¢°æ’å¤„ç†
            }
            
            // ä¸åŒç±»å‹çš„emojiæˆ–å·²æ ‡è®°ä¸ºç§»é™¤çš„emojiï¼Œæ‰§è¡Œæ™®é€šç¢°æ’
            // ç®€å•çš„ç¢°æ’å“åº” - äº¤æ¢é€Ÿåº¦
            const tempSpeedX = emoji1.speedX;
            const tempSpeedY = emoji1.speedY;
            
            emoji1.speedX = emoji2.speedX * 0.9;
            emoji1.speedY = emoji2.speedY * 0.9;
            
            emoji2.speedX = tempSpeedX * 0.9;
            emoji2.speedY = tempSpeedY * 0.9;
            
            // ç¨å¾®åˆ†å¼€å®ƒä»¬ä»¥é¿å…ç²˜åœ¨ä¸€èµ·
            const dx = emoji2.x - emoji1.x;
            const dy = emoji2.y - emoji1.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            if(distance > 0) {
              const overlap = (emoji1.width + emoji2.width) / 2 - distance;
              const moveX = (dx / distance) * overlap / 2;
              const moveY = (dy / distance) * overlap / 2;
              
              emoji1.x -= moveX;
              emoji1.y -= moveY;
              emoji2.x += moveX;
              emoji2.y += moveY;
            }
          }
        }
      }
      
      // ç§»é™¤æ ‡è®°ä¸ºåˆ é™¤çš„emoji - å»¶é•¿ç­‰å¾…æ—¶é—´åˆ°1.5ç§’
      for(let i = emojiElements.length - 1; i >= 0; i--) {
        if(emojiElements[i].toRemove) {
          // å»¶è¿Ÿç§»é™¤å…ƒç´ ï¼Œç­‰å¾…åŠ¨ç”»å®Œæˆ
          setTimeout(() => {
            if(emojiElements[i] && emojiElements[i].element.parentNode) {
              emojiElements[i].element.parentNode.removeChild(emojiElements[i].element);
            }
          }, 1500); // ä¸åŠ¨ç”»æ—¶é—´åŒ¹é…
          
          // ä»æ•°ç»„ä¸­ç§»é™¤
          emojiElements.splice(i, 1);
          emojiCount--;
        }
      }
      
      // å¦‚æœemojiæ•°é‡ä¸è¶³ä¸”å½“å‰æ²¡æœ‰åœ¨ç”Ÿæˆä¸­ï¼Œç”Ÿæˆæ–°çš„
      if(emojiCount < maxEmojis && emojiElements.length < maxEmojis && !isGenerating) {
        createEmojiBatch();
      }
      
      // åº”ç”¨æ–°ä½ç½®
      for(let i = 0; i < emojiElements.length; i++) {
        const emoji = emojiElements[i];
        if(!emoji.toRemove) { // åªæ›´æ–°æœªæ ‡è®°ä¸ºç§»é™¤çš„emoji
          emoji.element.style.left = emoji.x + 'px';
          emoji.element.style.top = emoji.y + 'px';
        }
      }
      
      requestAnimationFrame(updateEmojis);
    }
    
    // å¼€å§‹ç”Ÿæˆemoji
    createEmojiBatch();
    
    // å¼€å§‹åŠ¨ç”»
    updateEmojis();
  </script>
</body>
</html>
<style>
    body {
      margin: 0;
      background: transparent;  /* æ”¹ä¸ºé€æ˜ */
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      user-select: none;
      cursor: pointer;
    }
    .emoji {
      font-size: 12vw;
      animation: bounce 1s infinite alternate, scale 2s infinite alternate;
      will-change: transform;
    }
    @keyframes bounce {
      0% { transform: translateY(0);}
      100% { transform: translateY(-30px);}
    }
    @keyframes scale {
      0% { transform: scale(1);}
      100% { transform: scale(1.2);}
    }
    .tip {
      color: #fff;
      font-size: 2vw;
      margin-top: 2vw;
      text-align: center;
    }
  </style>
</html>